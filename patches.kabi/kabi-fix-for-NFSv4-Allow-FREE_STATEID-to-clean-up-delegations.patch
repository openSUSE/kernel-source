From: Anthony Iliopoulos <ailiop@suse.com>
Date: Wed, 27 Aug 2025 05:39:35 +0200
Subject: [PATCH] kabi fix for NFSv4: Allow FREE_STATEID to clean up delegations
Patch-mainline: never, kABI fix
References: bsc#1246211

We can safely ignore the additional enum member since this does not
affect the total size of the struct, and the new type is only being used
internally.

---
 include/linux/nfs4.h | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/include/linux/nfs4.h b/include/linux/nfs4.h
index d00a8449e9af..e19d1510cca4 100644
--- a/include/linux/nfs4.h
+++ b/include/linux/nfs4.h
@@ -70,7 +70,9 @@ struct nfs4_stateid_struct {
 		NFS4_LAYOUT_STATEID_TYPE,
 		NFS4_PNFS_DS_STATEID_TYPE,
 		NFS4_REVOKED_STATEID_TYPE,
+#ifndef __GENKSYMS__
 		NFS4_FREED_STATEID_TYPE,
+#endif
 	} type;
 };
 
-- 
2.51.0

