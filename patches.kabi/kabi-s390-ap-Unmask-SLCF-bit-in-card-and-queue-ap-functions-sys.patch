From: Miroslav Franc <mfranc@suse.cz>
Date: Thu, 4 Sep 2025 10:27:52 +0200
Subject: [PATCH] s390/ap: Unmask SLCF bit in card and queue ap functions sysfs
Patch-mainline: Never, kABI workaround
References: git-fixes bsc#1249183

This is really just adding a name to an existing bitfield.

---
 arch/s390/include/asm/ap.h | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/arch/s390/include/asm/ap.h b/arch/s390/include/asm/ap.h
index 352108727d7e6..9993f7dd69fcf 100644
--- a/arch/s390/include/asm/ap.h
+++ b/arch/s390/include/asm/ap.h
@@ -103,7 +103,11 @@ struct ap_tapq_hwinfo {
 			unsigned int accel :  1; /* A */
 			unsigned int ep11  :  1; /* X */
 			unsigned int apxa  :  1; /* APXA */
+#ifndef __GENKSYMS__
 			unsigned int slcf  :  1; /* Cmd filtering avail. */
+#else
+			unsigned int 	   :  1;
+#endif
 			unsigned int class :  8;
 			unsigned int bs	   :  2; /* SE bind/assoc */
 			unsigned int	   : 14;
-- 
2.51.0

