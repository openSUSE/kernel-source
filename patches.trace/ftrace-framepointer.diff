From: Jan Blunck <jblunck@suse.de>
Subject: Select FRAME_POINTER only on SYSPROF_TRACER
Date: Wed Sep 24 10:32:16 CEST 2008

The only tracer that requires frame pointers is the sysprof trace. Since this
tracer copies the functionality of oprofile, it isn't required at all.

Signed-off-by: Jan Blunck <jblunck@suse.de>
---
 kernel/trace/Kconfig |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/kernel/trace/Kconfig
+++ b/kernel/trace/Kconfig
@@ -126,7 +126,6 @@ if FTRACE
 config FUNCTION_TRACER
 	bool "Kernel Function Tracer"
 	depends on HAVE_FUNCTION_TRACER
-	select FRAME_POINTER
 	select KALLSYMS
 	select GENERIC_TRACER
 	select CONTEXT_SWITCH_TRACER
@@ -203,6 +202,7 @@ config SYSPROF_TRACER
 	bool "Sysprof Tracer"
 	depends on X86
 	select GENERIC_TRACER
+	select FRAME_POINTER
 	select CONTEXT_SWITCH_TRACER
 	help
 	  This tracer provides the trace needed by the 'Sysprof' userspace
