From b11e1b9d22145b76b5fecb15a2acb196c1d8abc2 Mon Sep 17 00:00:00 2001
From: CHANDAN VURDIGERE NATARAJ <chandan.vurdigerenataraj@amd.com>
Date: Tue, 11 Jan 2022 19:02:26 +0530
Subject: drm/amdgpu: Enable recovery on yellow carp
Git-commit: 4175c32be5ef0ff254d6931931ec412e8029c32a
Patch-mainline: v5.17-rc1
References: jsc#PED-1166 jsc#PED-1168 jsc#PED-1170 jsc#PED-1218 jsc#PED-1220 jsc#PED-1222 jsc#PED-1223 jsc#PED-1225

Add yellow carp to devices which support recovery

Signed-off-by: CHANDAN VURDIGERE NATARAJ <chandan.vurdigerenataraj@amd.com>
Reviewed-by: Alex Deucher <alexander.deucher@amd.com>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
Acked-by: Patrik Jakobsson <pjakobsson@suse.de>
---
 drivers/gpu/drm/amd/amdgpu/amdgpu_device.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/drivers/gpu/drm/amd/amdgpu/amdgpu_device.c b/drivers/gpu/drm/amd/amdgpu/amdgpu_device.c
index 3654b61f7278..2ffc465e3a85 100644
--- a/drivers/gpu/drm/amd/amdgpu/amdgpu_device.c
+++ b/drivers/gpu/drm/amd/amdgpu/amdgpu_device.c
@@ -4472,6 +4472,7 @@ bool amdgpu_device_should_recover_gpu(struct amdgpu_device *adev)
 		case CHIP_BEIGE_GOBY:
 		case CHIP_VANGOGH:
 		case CHIP_ALDEBARAN:
+		case CHIP_YELLOW_CARP:
 			break;
 		default:
 			goto disabled;
-- 
2.38.1

