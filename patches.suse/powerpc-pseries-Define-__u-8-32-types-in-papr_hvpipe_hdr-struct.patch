From ef104054a312608deab266f95945057fa73eeaad Mon Sep 17 00:00:00 2001
From: Haren Myneni <haren@linux.ibm.com>
Date: Mon, 22 Sep 2025 02:11:08 -0700
Subject: [PATCH] powerpc/pseries: Define __u{8,32} types in papr_hvpipe_hdr
 struct

References: jsc#PED-14170
Patch-mainline: v6.18-rc1
Git-commit: ef104054a312608deab266f95945057fa73eeaad

Fix the the following build errors with CONFIG_UAPI_HEADER_TEST:

./usr/include/asm/papr-hvpipe.h:16:9: error: unknown type name 'u8'
   16 |         u8 version;
./usr/include/asm/papr-hvpipe.h:17:9: error: unknown type name 'u8'
   17 |         u8 reserved[3];
./usr/include/asm/papr-hvpipe.h:18:9: error: unknown type name 'u32'
   18 |         u32 flags;
./usr/include/asm/papr-hvpipe.h:19:9: error: unknown type name 'u8'
   19 |         u8 reserved2[40];

Fixes: 043439ad1a23c ("powerpc/pseries: Define papr-hvpipe ioctl")
Reported-by: Venkat Rao Bagalkote <venkat88@linux.ibm.com>
Signed-off-by: Haren Myneni <haren@linux.ibm.com>
Tested-by: Venkat Rao Bagalkote <venkat88@linux.ibm.com>
Signed-off-by: Madhavan Srinivasan <maddy@linux.ibm.com>
Link: https://patch.msgid.link/20250922091108.1483970-1-haren@linux.ibm.com
Acked-by: Michal Suchanek <msuchanek@suse.de>
---
 arch/powerpc/include/uapi/asm/papr-hvpipe.h | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/arch/powerpc/include/uapi/asm/papr-hvpipe.h b/arch/powerpc/include/uapi/asm/papr-hvpipe.h
index 459a7bb0e6c9..f8794139d06a 100644
--- a/arch/powerpc/include/uapi/asm/papr-hvpipe.h
+++ b/arch/powerpc/include/uapi/asm/papr-hvpipe.h
@@ -13,10 +13,10 @@
  *        closed or the buffer has the payload.
  */
 struct papr_hvpipe_hdr {
-	u8 version;
-	u8 reserved[3];
-	u32 flags;
-	u8 reserved2[40];
+	__u8 version;
+	__u8 reserved[3];
+	__u32 flags;
+	__u8 reserved2[40];
 };
 
 /*
-- 
2.51.0

