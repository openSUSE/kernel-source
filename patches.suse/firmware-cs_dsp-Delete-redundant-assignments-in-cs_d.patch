From ee37bc7e0144e312a8e990acdd4f49e4afa71f1c Mon Sep 17 00:00:00 2001
From: Richard Fitzgerald <rf@opensource.cirrus.com>
Date: Thu, 19 Dec 2024 15:57:19 +0000
Subject: [PATCH] firmware: cs_dsp: Delete redundant assignments in cs_dsp_test_bin.c
Git-commit: ee37bc7e0144e312a8e990acdd4f49e4afa71f1c
Patch-mainline: v6.14-rc1
References: jsc#PED-14430 jsc#PED-14297 jsc#PED-14024

Delete two redundant assignments in cs_dsp_test_bin.c.

Unfortunately none of W=1 or the static analysis tools I ran
flagged these.

Fixes: dd0b6b1f29b9 ("firmware: cs_dsp: Add KUnit testing of bin file download")
Reported-by: Dheeraj Reddy Jonnalagadda <dheeraj.linuxdev@gmail.com>
Closes: https://scan7.scan.coverity.com/#/project-view/52337/11354?selectedIssue=1602511
Closes: https://scan7.scan.coverity.com/#/project-view/52337/11354?selectedIssue=1602490
Signed-off-by: Richard Fitzgerald <rf@opensource.cirrus.com>
Link: https://patch.msgid.link/20241219155719.84276-1-rf@opensource.cirrus.com
Signed-off-by: Mark Brown <broonie@kernel.org>
Acked-by: Takashi Iwai <tiwai@suse.de>

---
 drivers/firmware/cirrus/test/cs_dsp_test_bin.c | 6 ------
 1 file changed, 6 deletions(-)

diff --git a/drivers/firmware/cirrus/test/cs_dsp_test_bin.c b/drivers/firmware/cirrus/test/cs_dsp_test_bin.c
index bbff6caee285..1e161bbc5b4a 100644
--- a/drivers/firmware/cirrus/test/cs_dsp_test_bin.c
+++ b/drivers/firmware/cirrus/test/cs_dsp_test_bin.c
@@ -500,9 +500,6 @@ static void bin_patch_one_word_multiple_algs(struct kunit *test)
 
 	/* Add one payload per algorithm */
 	for (i = 0; i < ARRAY_SIZE(bin_test_mock_algs); ++i) {
-		alg_base_words = cs_dsp_mock_xm_header_get_alg_base_in_words(priv,
-								bin_test_mock_algs[i].id,
-								param->mem_type);
 		reg_inc_per_word = cs_dsp_mock_reg_addr_inc_per_unpacked_word(priv);
 
 		cs_dsp_mock_bin_add_patch(priv->local->bin_builder,
@@ -566,9 +563,6 @@ static void bin_patch_one_word_multiple_algs_unordered(struct kunit *test)
 	/* Add one payload per algorithm */
 	for (i = 0; i < ARRAY_SIZE(bin_test_mock_algs); ++i) {
 		alg_idx = alg_order[i];
-		alg_base_words = cs_dsp_mock_xm_header_get_alg_base_in_words(priv,
-								bin_test_mock_algs[alg_idx].id,
-								param->mem_type);
 		reg_inc_per_word = cs_dsp_mock_reg_addr_inc_per_unpacked_word(priv);
 
 		cs_dsp_mock_bin_add_patch(priv->local->bin_builder,
-- 
2.52.0

