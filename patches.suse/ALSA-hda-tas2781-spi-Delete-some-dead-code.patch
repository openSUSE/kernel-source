From be125a0b8946a69cd8d91340ae14ec72ef6558fc Mon Sep 17 00:00:00 2001
From: Dan Carpenter <dan.carpenter@linaro.org>
Date: Wed, 22 Jan 2025 10:18:06 +0300
Subject: [PATCH] ALSA: hda: tas2781-spi: Delete some dead code
Git-commit: be125a0b8946a69cd8d91340ae14ec72ef6558fc
Patch-mainline: v6.14-rc1
References: jsc#PED-14430 jsc#PED-14297 jsc#PED-14024

The scnprintf() function never returns negatives.  And it won't return
zero here either, plus if it did we'd need to fix the error code.
Delete this dead code.

Signed-off-by: Dan Carpenter <dan.carpenter@linaro.org>
Link: https://patch.msgid.link/d57ded9e-9969-4922-8347-67b758499483@stanley.mountain
Signed-off-by: Takashi Iwai <tiwai@suse.de>

---
 sound/pci/hda/tas2781_hda_spi.c | 6 +-----
 1 file changed, 1 insertion(+), 5 deletions(-)

diff --git a/sound/pci/hda/tas2781_hda_spi.c b/sound/pci/hda/tas2781_hda_spi.c
index 5be71b538ce0..02794fd6003d 100644
--- a/sound/pci/hda/tas2781_hda_spi.c
+++ b/sound/pci/hda/tas2781_hda_spi.c
@@ -274,13 +274,9 @@ static int tascodec_spi_init(struct tasdevice_priv *tas_priv,
 	 */
 	guard(mutex)(&tas_priv->codec_lock);
 
-	ret = scnprintf(tas_priv->rca_binaryname,
+	scnprintf(tas_priv->rca_binaryname,
 		sizeof(tas_priv->rca_binaryname), "%sRCA%d.bin",
 		tas_priv->dev_name, tas_priv->index);
-	if (ret <= 0) {
-		dev_err(tas_priv->dev, "rca name err:0x%08x\n", ret);
-		return ret;
-	}
 	crc8_populate_msb(tas_priv->crc8_lkp_tbl, TASDEVICE_CRC8_POLYNOMIAL);
 	tas_priv->codec = codec;
 	ret = request_firmware_nowait(module, FW_ACTION_UEVENT,
-- 
2.52.0

