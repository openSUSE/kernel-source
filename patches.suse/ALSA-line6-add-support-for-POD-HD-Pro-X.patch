From 4e5a0a0ae83fdc5e6414f5ad9716e436d95502b7 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Baltaz=C3=A1r=20Radics?= <baltazar.radics@gmail.com>
Date: Fri, 31 Oct 2025 19:35:14 +0100
Subject: [PATCH] ALSA: line6: add support for POD HD Pro X
Mime-version: 1.0
Content-type: text/plain; charset=UTF-8
Content-transfer-encoding: 8bit
Git-commit: 4e5a0a0ae83fdc5e6414f5ad9716e436d95502b7
Patch-mainline: v6.19-rc1
References: jsc#PED-14430 jsc#PED-14297 jsc#PED-14024

It uses the same protocol as other POD HD models so it just needed
proper config.

Signed-off-by: Baltaz√°r Radics <baltazar.radics@gmail.com>
Link: https://patch.msgid.link/20251031183514.40926-1-baltazar.radics@gmail.com
Signed-off-by: Takashi Iwai <tiwai@suse.de>

---
 sound/usb/line6/podhd.c | 16 +++++++++++++++-
 1 file changed, 15 insertions(+), 1 deletion(-)

diff --git a/sound/usb/line6/podhd.c b/sound/usb/line6/podhd.c
index 70de08635f54..ea1324c22f46 100644
--- a/sound/usb/line6/podhd.c
+++ b/sound/usb/line6/podhd.c
@@ -26,7 +26,8 @@ enum {
 	LINE6_PODX3,
 	LINE6_PODX3LIVE,
 	LINE6_PODHD500X,
-	LINE6_PODHDDESKTOP
+	LINE6_PODHDDESKTOP,
+	LINE6_PODHDPROX,
 };
 
 struct usb_line6_podhd {
@@ -440,6 +441,7 @@ static const struct usb_device_id podhd_id_table[] = {
 	{ LINE6_IF_NUM(0x414B, 0), .driver_info = LINE6_PODX3LIVE },
 	{ LINE6_IF_NUM(0x4159, 0), .driver_info = LINE6_PODHD500X },
 	{ LINE6_IF_NUM(0x4156, 0), .driver_info = LINE6_PODHDDESKTOP },
+	{ LINE6_IF_NUM(0x415A, 0), .driver_info = LINE6_PODHDPROX },
 	{}
 };
 
@@ -528,6 +530,18 @@ static const struct line6_properties podhd_properties_table[] = {
 		.ep_audio_r = 0x86,
 		.ep_audio_w = 0x02,
 	},
+	[LINE6_PODHDPROX] = {
+		.id = "PODHDPROX",
+		.name = "POD HD Pro X",
+		.capabilities	= LINE6_CAP_CONTROL | LINE6_CAP_CONTROL_INFO
+				| LINE6_CAP_PCM | LINE6_CAP_HWMON | LINE6_CAP_IN_NEEDS_OUT,
+		.altsetting = 1,
+		.ctrl_if = 1,
+		.ep_ctrl_r = 0x81,
+		.ep_ctrl_w = 0x01,
+		.ep_audio_r = 0x86,
+		.ep_audio_w = 0x02,
+	},
 };
 
 /*
-- 
2.52.0

