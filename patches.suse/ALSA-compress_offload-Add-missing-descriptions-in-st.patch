From b773c086ed58c7e9111a4d4f251a98db3d4165d8 Mon Sep 17 00:00:00 2001
From: Takashi Iwai <tiwai@suse.de>
Date: Wed, 13 Nov 2024 08:23:03 +0100
Subject: [PATCH] ALSA: compress_offload: Add missing descriptions in structs
Git-commit: b773c086ed58c7e9111a4d4f251a98db3d4165d8
Patch-mainline: v6.13-rc1
References: jsc#PED-14430 jsc#PED-14297 jsc#PED-14024

Add the missing descriptions for snd_compr_ops, snd_compr_task and
snd_compr_task_status fields, in order to shut up the build warnings.

Fixes: 04177158cf98 ("ALSA: compress_offload: introduce accel operation mode")
Reported-by: Stephen Rothwell <sfr@canb.auug.org.au>
Closes: https://lore.kernel.org/20241028193731.4b0c3788@canb.auug.org.au
Link: https://patch.msgid.link/20241113072304.4447-1-tiwai@suse.de
Signed-off-by: Takashi Iwai <tiwai@suse.de>

---
 include/sound/compress_driver.h       | 4 ++++
 include/uapi/sound/compress_offload.h | 2 ++
 2 files changed, 6 insertions(+)

diff --git a/include/sound/compress_driver.h b/include/sound/compress_driver.h
index 5db4881b0681..b55c9eeb2b54 100644
--- a/include/sound/compress_driver.h
+++ b/include/sound/compress_driver.h
@@ -143,6 +143,10 @@ struct snd_compr_stream {
  * Not valid if copy is implemented
  * @get_caps: Retrieve DSP capabilities, mandatory
  * @get_codec_caps: Retrieve capabilities for a specific codec, mandatory
+ * @task_create: Create a set of input/output buffers for accel operations
+ * @task_start: Start (queue) a task for accel operations
+ * @task_stop: Stop (dequeue) a task for accel operations
+ * @task_free: Free a set of input/output buffers for accel operations
  */
 struct snd_compr_ops {
 	int (*open)(struct snd_compr_stream *stream);
diff --git a/include/uapi/sound/compress_offload.h b/include/uapi/sound/compress_offload.h
index 98772b0cbcb7..d62eb93af0ed 100644
--- a/include/uapi/sound/compress_offload.h
+++ b/include/uapi/sound/compress_offload.h
@@ -139,6 +139,7 @@ struct snd_compr_metadata {
  * @output_fd: data output file descriptor (dma-buf)
  * @input_size: filled data in bytes (from caller, must not exceed fragment size)
  * @flags: see SND_COMPRESS_TFLG_* defines
+ * @reserved: reserved for future extension
  */
 struct snd_compr_task {
 	__u64 seqno;
@@ -169,6 +170,7 @@ enum snd_compr_state {
  * @output_size: filled data in bytes (from driver)
  * @output_flags: reserved for future (all zeros - from driver)
  * @state: actual task state (SND_COMPRESS_TASK_STATE_*)
+ * @reserved: reserved for future extension
  */
 struct snd_compr_task_status {
 	__u64 seqno;
-- 
2.52.0

