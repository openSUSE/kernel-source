From: Takashi Iwai <tiwai@suse.de>
Subject: iwlwifi: Add missing firmware files
Patch-mainline: Never, a temporary stop-gap solution
References: bsc#1254352

There are lots of iwlwifi firmwares missing on the installer image due
to incomplete MODULE_FIRMWARE() declearations in the driver. 
The driver determines the firmware ucode version in different ways,
hence the MODULE_FIRMWARE() with the RF-component ucode doesn't match
with the actually available files.

Add extra MODULE_FIRMWARE() to match with the actually available
firmware files.

Signed-off-by: Takashi Iwai <tiwai@suse.de>

---
 drivers/net/wireless/intel/iwlwifi/cfg/6000.c  |    3 +++
 drivers/net/wireless/intel/iwlwifi/cfg/bz.c    |    5 +++++
 drivers/net/wireless/intel/iwlwifi/cfg/rf-gf.c |    8 ++++++++
 drivers/net/wireless/intel/iwlwifi/cfg/rf-hr.c |    5 +++++
 4 files changed, 21 insertions(+)

--- a/drivers/net/wireless/intel/iwlwifi/cfg/6000.c
+++ b/drivers/net/wireless/intel/iwlwifi/cfg/6000.c
@@ -355,3 +355,6 @@ MODULE_FIRMWARE(IWL6000_MODULE_FIRMWARE(
 MODULE_FIRMWARE(IWL6050_MODULE_FIRMWARE(IWL6050_UCODE_API_MAX));
 MODULE_FIRMWARE(IWL6005_MODULE_FIRMWARE(IWL6000G2_UCODE_API_MAX));
 MODULE_FIRMWARE(IWL6030_MODULE_FIRMWARE(IWL6000G2_UCODE_API_MAX));
+
+// FIXME: extra due to the missing firmware files
+MODULE_FIRMWARE("iwlwifi-6000-4.ucode");
--- a/drivers/net/wireless/intel/iwlwifi/cfg/bz.c
+++ b/drivers/net/wireless/intel/iwlwifi/cfg/bz.c
@@ -113,3 +113,8 @@ IWL_CORE_FW(IWL_BZ_B_HR_B_FW_PRE, IWL_BZ
 IWL_CORE_FW(IWL_GL_B_FM_B_FW_PRE, IWL_BZ_UCODE_CORE_MAX);
 IWL_CORE_FW(IWL_GL_C_FM_C_FW_PRE, IWL_BZ_UCODE_CORE_MAX);
 
+// FIXME: extra due to the missing firmware files
+MODULE_FIRMWARE("iwlwifi-bz-b0-fm-c0-98.ucode");
+MODULE_FIRMWARE("iwlwifi-bz-b0-gf-a0-98.ucode");
+MODULE_FIRMWARE("iwlwifi-bz-b0-hr-b0-98.ucode");
+MODULE_FIRMWARE("iwlwifi-gl-c0-fm-c0-98.ucode");
--- a/drivers/net/wireless/intel/iwlwifi/cfg/rf-gf.c
+++ b/drivers/net/wireless/intel/iwlwifi/cfg/rf-gf.c
@@ -83,3 +83,11 @@ MODULE_FIRMWARE(IWL_BZ_A_GF_A_MODULE_FIR
 MODULE_FIRMWARE(IWL_BZ_A_GF4_A_MODULE_FIRMWARE(IWL_GF_UCODE_API_MAX));
 MODULE_FIRMWARE(IWL_SC_A_GF_A_MODULE_FIRMWARE(IWL_GF_UCODE_API_MAX));
 MODULE_FIRMWARE(IWL_SC_A_GF4_A_MODULE_FIRMWARE(IWL_GF_UCODE_API_MAX));
+
+// FIXME: extra due to the missing firmware files
+MODULE_FIRMWARE("iwlwifi-ma-b0-gf4-a0-89.ucode");
+MODULE_FIRMWARE("iwlwifi-ma-b0-gf-a0-89.ucode");
+MODULE_FIRMWARE("iwlwifi-ma-b0-hr-b0-89.ucode");
+MODULE_FIRMWARE("iwlwifi-so-a0-gf-a0-89.ucode");
+MODULE_FIRMWARE("iwlwifi-so-a0-hr-b0-89.ucode");
+MODULE_FIRMWARE("iwlwifi-ty-a0-gf-a0-89.ucode");
--- a/drivers/net/wireless/intel/iwlwifi/cfg/rf-hr.c
+++ b/drivers/net/wireless/intel/iwlwifi/cfg/rf-hr.c
@@ -87,3 +87,8 @@ MODULE_FIRMWARE(IWL_MA_B_HR_B_FW_MODULE_
 MODULE_FIRMWARE(IWL_BZ_A_HR_B_MODULE_FIRMWARE(IWL_HR_UCODE_API_MAX));
 MODULE_FIRMWARE(IWL_SC_A_HR_A_FW_MODULE_FIRMWARE(IWL_HR_UCODE_API_MAX));
 MODULE_FIRMWARE(IWL_SC_A_HR_B_FW_MODULE_FIRMWARE(IWL_HR_UCODE_API_MAX));
+
+// FIXME: extra due to the missing firmware files
+MODULE_FIRMWARE("iwlwifi-Qu-b0-hr-b0-77.ucode");
+MODULE_FIRMWARE("iwlwifi-Qu-c0-hr-b0-77.ucode");
+MODULE_FIRMWARE("iwlwifi-QuZ-a0-hr-b0-77.ucode");
