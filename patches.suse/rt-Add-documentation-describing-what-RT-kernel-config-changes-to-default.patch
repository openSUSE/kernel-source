From cd731e0d51178f32a4cf33b6a6c90a7fe5fdcf8c Mon Sep 17 00:00:00 2001
From: Mel Gorman <mgorman@techsingularity.net>
Date: Tue, 22 Mar 2022 09:00:03 +0000
Subject: [PATCH] rt: Add documentation describing what RT kernel config
 changes to default

References: SLE Realtime Extension
Patch-mainline: Never, SLERT specific

The RT configuration is derived from the SLE kernel but over time it can
drift. Add a patch describing the config options that change so that it
can potentially be auto-generated.

LOCALVERSION:	Mandatory for flavour
PREEMPT_DYNAMIC
PREEMPT_RT
PREEMPT_RRCU	Mandatory for RT
RCU_BOOST	Boost RCU or RT task can starve completion of RCU GP
RCU_BOOST_DELAY	Default value
RT_GROUP_SCHED	Disabled as it complicates configuration for non-root users
CMDLINE		skew_tick moderates jitter on largerr systems
BCACHE		Disabled historically for stability reasons
PREEMPT_TRACER	Disabled due to overhead, enabled on rt_debug
DEBUG_PREEMPT	Disabled due to overhead, enabled on rt_debug

Signed-off-by: Mel Gorman <mgorman@suse.de>

---
 Documentation/rt-config-required | 12 ++++++++++++
 1 file changed, 12 insertions(+)

diff --git a/Documentation/rt-config-required b/Documentation/rt-config-required
new file mode 100644
index 000000000000..e6c918501eaa
--- /dev/null
+++ b/Documentation/rt-config-required
@@ -0,0 +1,12 @@
+value:CONFIG_LOCALVERSION:"-rt"
+unset:CONFIG_PREEMPT_DYNAMIC
+set:CONFIG_PREEMPT_RT
+set:CONFIG_PREEMPT_RCU
+set:CONFIG_RCU_BOOST
+value:CONFIG_RCU_BOOST_DELAY:500
+unset:CONFIG_RT_GROUP_SCHED
+set:CONFIG_CMDLINE_BOOL
+value:CONFIG_CMDLINE:"skew_tick=1"
+unset:CONFIG_BCACHE
+unset:CONFIG_PREEMPT_TRACER
+unset:CONFIG_DEBUG_PREEMPT
