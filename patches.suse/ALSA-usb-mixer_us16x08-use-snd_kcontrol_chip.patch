From 7f3ef3ab810dea0d956968473a32673d1c6ba478 Mon Sep 17 00:00:00 2001
From: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com>
Date: Wed, 7 May 2025 05:00:16 +0000
Subject: [PATCH] ALSA: usb: mixer_us16x08: use snd_kcontrol_chip()
Git-commit: 7f3ef3ab810dea0d956968473a32673d1c6ba478
Patch-mainline: v6.16-rc1
References: jsc#PED-14430 jsc#PED-14297 jsc#PED-14024

We can use snd_kcontrol_chip(). Let's use it.

Signed-off-by: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com>
Signed-off-by: Takashi Iwai <tiwai@suse.de>
Link: https://patch.msgid.link/87frhhaucf.wl-kuninori.morimoto.gx@renesas.com

---
 sound/usb/mixer_us16x08.c | 32 ++++++++++++++++----------------
 1 file changed, 16 insertions(+), 16 deletions(-)

diff --git a/sound/usb/mixer_us16x08.c b/sound/usb/mixer_us16x08.c
index 20ac32635f1f..236b69054867 100644
--- a/sound/usb/mixer_us16x08.c
+++ b/sound/usb/mixer_us16x08.c
@@ -180,7 +180,7 @@ static int snd_us16x08_route_info(struct snd_kcontrol *kcontrol,
 static int snd_us16x08_route_get(struct snd_kcontrol *kcontrol,
 	struct snd_ctl_elem_value *ucontrol)
 {
-	struct usb_mixer_elem_info *elem = kcontrol->private_data;
+	struct usb_mixer_elem_info *elem = snd_kcontrol_chip(kcontrol);
 	int index = ucontrol->id.index;
 
 	/* route has no bias */
@@ -192,7 +192,7 @@ static int snd_us16x08_route_get(struct snd_kcontrol *kcontrol,
 static int snd_us16x08_route_put(struct snd_kcontrol *kcontrol,
 	struct snd_ctl_elem_value *ucontrol)
 {
-	struct usb_mixer_elem_info *elem = kcontrol->private_data;
+	struct usb_mixer_elem_info *elem = snd_kcontrol_chip(kcontrol);
 	struct snd_usb_audio *chip = elem->head.mixer->chip;
 	int index = ucontrol->id.index;
 	char buf[sizeof(route_msg)];
@@ -249,7 +249,7 @@ static int snd_us16x08_master_info(struct snd_kcontrol *kcontrol,
 static int snd_us16x08_master_get(struct snd_kcontrol *kcontrol,
 	struct snd_ctl_elem_value *ucontrol)
 {
-	struct usb_mixer_elem_info *elem = kcontrol->private_data;
+	struct usb_mixer_elem_info *elem = snd_kcontrol_chip(kcontrol);
 	int index = ucontrol->id.index;
 
 	ucontrol->value.integer.value[0] = elem->cache_val[index];
@@ -260,7 +260,7 @@ static int snd_us16x08_master_get(struct snd_kcontrol *kcontrol,
 static int snd_us16x08_master_put(struct snd_kcontrol *kcontrol,
 	struct snd_ctl_elem_value *ucontrol)
 {
-	struct usb_mixer_elem_info *elem = kcontrol->private_data;
+	struct usb_mixer_elem_info *elem = snd_kcontrol_chip(kcontrol);
 	struct snd_usb_audio *chip = elem->head.mixer->chip;
 	char buf[sizeof(mix_msg_out)];
 	int val, err;
@@ -297,7 +297,7 @@ static int snd_us16x08_master_put(struct snd_kcontrol *kcontrol,
 static int snd_us16x08_bus_put(struct snd_kcontrol *kcontrol,
 	struct snd_ctl_elem_value *ucontrol)
 {
-	struct usb_mixer_elem_info *elem = kcontrol->private_data;
+	struct usb_mixer_elem_info *elem = snd_kcontrol_chip(kcontrol);
 	struct snd_usb_audio *chip = elem->head.mixer->chip;
 	char buf[sizeof(mix_msg_out)];
 	int val, err = 0;
@@ -338,7 +338,7 @@ static int snd_us16x08_bus_put(struct snd_kcontrol *kcontrol,
 static int snd_us16x08_bus_get(struct snd_kcontrol *kcontrol,
 	struct snd_ctl_elem_value *ucontrol)
 {
-	struct usb_mixer_elem_info *elem = kcontrol->private_data;
+	struct usb_mixer_elem_info *elem = snd_kcontrol_chip(kcontrol);
 
 	switch (elem->head.id) {
 	case SND_US16X08_ID_BUSS_OUT:
@@ -359,7 +359,7 @@ static int snd_us16x08_bus_get(struct snd_kcontrol *kcontrol,
 static int snd_us16x08_channel_get(struct snd_kcontrol *kcontrol,
 	struct snd_ctl_elem_value *ucontrol)
 {
-	struct usb_mixer_elem_info *elem = kcontrol->private_data;
+	struct usb_mixer_elem_info *elem = snd_kcontrol_chip(kcontrol);
 	int index = ucontrol->id.index;
 
 	ucontrol->value.integer.value[0] = elem->cache_val[index];
@@ -370,7 +370,7 @@ static int snd_us16x08_channel_get(struct snd_kcontrol *kcontrol,
 static int snd_us16x08_channel_put(struct snd_kcontrol *kcontrol,
 	struct snd_ctl_elem_value *ucontrol)
 {
-	struct usb_mixer_elem_info *elem = kcontrol->private_data;
+	struct usb_mixer_elem_info *elem = snd_kcontrol_chip(kcontrol);
 	struct snd_usb_audio *chip = elem->head.mixer->chip;
 	char buf[sizeof(mix_msg_in)];
 	int val, err;
@@ -417,7 +417,7 @@ static int snd_us16x08_mix_info(struct snd_kcontrol *kcontrol,
 static int snd_us16x08_comp_get(struct snd_kcontrol *kcontrol,
 	struct snd_ctl_elem_value *ucontrol)
 {
-	struct usb_mixer_elem_info *elem = kcontrol->private_data;
+	struct usb_mixer_elem_info *elem = snd_kcontrol_chip(kcontrol);
 	struct snd_us16x08_comp_store *store = elem->private_data;
 	int index = ucontrol->id.index;
 	int val_idx = COMP_STORE_IDX(elem->head.id);
@@ -430,7 +430,7 @@ static int snd_us16x08_comp_get(struct snd_kcontrol *kcontrol,
 static int snd_us16x08_comp_put(struct snd_kcontrol *kcontrol,
 	struct snd_ctl_elem_value *ucontrol)
 {
-	struct usb_mixer_elem_info *elem = kcontrol->private_data;
+	struct usb_mixer_elem_info *elem = snd_kcontrol_chip(kcontrol);
 	struct snd_usb_audio *chip = elem->head.mixer->chip;
 	struct snd_us16x08_comp_store *store = elem->private_data;
 	int index = ucontrol->id.index;
@@ -485,7 +485,7 @@ static int snd_us16x08_eqswitch_get(struct snd_kcontrol *kcontrol,
 	struct snd_ctl_elem_value *ucontrol)
 {
 	int val;
-	struct usb_mixer_elem_info *elem = kcontrol->private_data;
+	struct usb_mixer_elem_info *elem = snd_kcontrol_chip(kcontrol);
 	struct snd_us16x08_eq_store *store = elem->private_data;
 	int index = ucontrol->id.index;
 
@@ -500,7 +500,7 @@ static int snd_us16x08_eqswitch_get(struct snd_kcontrol *kcontrol,
 static int snd_us16x08_eqswitch_put(struct snd_kcontrol *kcontrol,
 	struct snd_ctl_elem_value *ucontrol)
 {
-	struct usb_mixer_elem_info *elem = kcontrol->private_data;
+	struct usb_mixer_elem_info *elem = snd_kcontrol_chip(kcontrol);
 	struct snd_usb_audio *chip = elem->head.mixer->chip;
 	struct snd_us16x08_eq_store *store = elem->private_data;
 	int index = ucontrol->id.index;
@@ -544,7 +544,7 @@ static int snd_us16x08_eq_get(struct snd_kcontrol *kcontrol,
 	struct snd_ctl_elem_value *ucontrol)
 {
 	int val;
-	struct usb_mixer_elem_info *elem = kcontrol->private_data;
+	struct usb_mixer_elem_info *elem = snd_kcontrol_chip(kcontrol);
 	struct snd_us16x08_eq_store *store = elem->private_data;
 	int index = ucontrol->id.index;
 	int b_idx = EQ_STORE_BAND_IDX(elem->head.id) - 1;
@@ -560,7 +560,7 @@ static int snd_us16x08_eq_get(struct snd_kcontrol *kcontrol,
 static int snd_us16x08_eq_put(struct snd_kcontrol *kcontrol,
 	struct snd_ctl_elem_value *ucontrol)
 {
-	struct usb_mixer_elem_info *elem = kcontrol->private_data;
+	struct usb_mixer_elem_info *elem = snd_kcontrol_chip(kcontrol);
 	struct snd_usb_audio *chip = elem->head.mixer->chip;
 	struct snd_us16x08_eq_store *store = elem->private_data;
 	int index = ucontrol->id.index;
@@ -684,7 +684,7 @@ static int snd_us16x08_meter_get(struct snd_kcontrol *kcontrol,
 	struct snd_ctl_elem_value *ucontrol)
 {
 	int i, set;
-	struct usb_mixer_elem_info *elem = kcontrol->private_data;
+	struct usb_mixer_elem_info *elem = snd_kcontrol_chip(kcontrol);
 	struct snd_usb_audio *chip = elem->head.mixer->chip;
 	struct snd_us16x08_meter_store *store = elem->private_data;
 	u8 meter_urb[64] = {0};
@@ -744,7 +744,7 @@ static int snd_us16x08_meter_get(struct snd_kcontrol *kcontrol,
 static int snd_us16x08_meter_put(struct snd_kcontrol *kcontrol,
 	struct snd_ctl_elem_value *ucontrol)
 {
-	struct usb_mixer_elem_info *elem = kcontrol->private_data;
+	struct usb_mixer_elem_info *elem = snd_kcontrol_chip(kcontrol);
 	struct snd_us16x08_meter_store *store = elem->private_data;
 	int val;
 
-- 
2.52.0

