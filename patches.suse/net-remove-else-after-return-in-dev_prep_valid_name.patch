From: Jakub Kicinski <kuba@kernel.org>
Date: Mon, 23 Oct 2023 08:23:46 -0700
Subject: net: remove else after return in dev_prep_valid_name()
Patch-mainline: v6.7-rc1
Git-commit: ce4cfa2318afcd74cc41992e306a28fa04e5d484
References: bsc#1233749

Remove unnecessary else clauses after return.
I copied this if / else construct from somewhere,
it makes the code harder to read.

Reviewed-by: Jiri Pirko <jiri@nvidia.com>
Link: https://lore.kernel.org/r/20231023152346.3639749-7-kuba@kernel.org
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
Acked-by: Michal Kubecek <mkubecek@suse.cz>

---
 net/core/dev.c | 9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

--- a/net/core/dev.c
+++ b/net/core/dev.c
@@ -1075,14 +1075,13 @@ static int dev_prep_valid_name(struct net *net, struct net_device *dev,
 	if (!dev_valid_name(want_name))
 		return -EINVAL;
 
-	if (strchr(want_name, '%')) {
+	if (strchr(want_name, '%'))
 		return __dev_alloc_name(net, want_name, out_name);
-	} else if (netdev_name_in_use(net, want_name)) {
+
+	if (netdev_name_in_use(net, want_name))
 		return -dup_errno;
-	} else if (out_name != want_name) {
+	if (out_name != want_name)
 		strscpy(out_name, want_name, IFNAMSIZ);
-	}
-
 	return 0;
 }
 
