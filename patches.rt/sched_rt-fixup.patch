Subject: Linux-RT 2.6.25.4-RT
From: http://www.kernel.org/pub/linux/kernel/projects/rt/
Acked-by: Sven-Thorsten Dietrich <sdietrich@suse.de>
From: Peter Zijlstra

---
 kernel/sched.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

Index: linux-2.6.25.4-rt4/kernel/sched.c
===================================================================
--- linux-2.6.25.4-rt4.orig/kernel/sched.c	2008-05-29 09:47:19.000000000 -0400
+++ linux-2.6.25.4-rt4/kernel/sched.c	2008-05-29 09:47:21.000000000 -0400
@@ -651,7 +651,8 @@ static __read_mostly int scheduler_runni
  * part of the period that we allow rt tasks to run in us.
  * default: 0.95s
  */
-int sysctl_sched_rt_runtime = 950000;
+/* int sysctl_sched_rt_runtime = 950000; */
+int sysctl_sched_rt_runtime = -1;
 
 /*
  * single value that denotes runtime == period, ie unlimited time.
@@ -7647,8 +7648,7 @@ void __init sched_init(void)
 
 #endif
 #ifdef CONFIG_RT_GROUP_SCHED
-		init_task_group.rt_runtime =
-			sysctl_sched_rt_runtime * NSEC_PER_USEC;
+		init_task_group.rt_runtime = global_rt_runtime();
 		INIT_LIST_HEAD(&rq->leaf_rt_rq_list);
 		init_tg_rt_entry(rq, &init_task_group,
 				&per_cpu(init_rt_rq, i),
