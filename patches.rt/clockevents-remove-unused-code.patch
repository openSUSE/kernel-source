Subject: Clockevents remove clockevents_{release,request}_device

From: Andi Kleen <ak@suse.de>

Not called by anything in tree.

Removed the prototypes as well [tglx]

Signed-off-by: Andi Kleen <ak@suse.de>
Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

---
 kernel/time/clockevents.c |   41 -----------------------------------------
 1 file changed, 41 deletions(-)

Index: linux-2.6.22/kernel/time/clockevents.c
===================================================================
--- linux-2.6.22.orig/kernel/time/clockevents.c	2007-07-24 08:56:49.000000000 +0200
+++ linux-2.6.22/kernel/time/clockevents.c	2007-07-24 08:56:51.000000000 +0200
@@ -205,47 +205,6 @@ void clockevents_exchange_device(struct 
 }
 
 /**
- * clockevents_request_device
- */
-struct clock_event_device *clockevents_request_device(unsigned int features,
-						      cpumask_t cpumask)
-{
-	struct clock_event_device *cur, *dev = NULL;
-	struct list_head *tmp;
-
-	spin_lock(&clockevents_lock);
-
-	list_for_each(tmp, &clockevent_devices) {
-		cur = list_entry(tmp, struct clock_event_device, list);
-
-		if ((cur->features & features) == features &&
-		    cpus_equal(cpumask, cur->cpumask)) {
-			if (!dev || dev->rating < cur->rating)
-				dev = cur;
-		}
-	}
-
-	clockevents_exchange_device(NULL, dev);
-
-	spin_unlock(&clockevents_lock);
-
-	return dev;
-}
-
-/**
- * clockevents_release_device
- */
-void clockevents_release_device(struct clock_event_device *dev)
-{
-	spin_lock(&clockevents_lock);
-
-	clockevents_exchange_device(dev, NULL);
-	clockevents_notify_released();
-
-	spin_unlock(&clockevents_lock);
-}
-
-/**
  * clockevents_notify - notification about relevant events
  */
 void clockevents_notify(unsigned long reason, void *arg)
