Subject: Linux-RT 2.6.25-rt
From: http://www.kernel.org/pub/linux/kernel/projects/rt/
Acked-by: Sven-Thorsten Dietrich <sdietrich@suse.de>
---
 kernel/cpu.c |    2 ++
 1 file changed, 2 insertions(+)

Index: linux-2.6.24.4-rt4/kernel/cpu.c
===================================================================
--- linux-2.6.24.4-rt4.orig/kernel/cpu.c	2008-03-24 19:05:10.000000000 -0400
+++ linux-2.6.24.4-rt4/kernel/cpu.c	2008-03-24 19:06:38.000000000 -0400
@@ -37,12 +37,14 @@ void lock_cpu_hotplug(void)
 	struct task_struct *tsk = current;
 
 	if (tsk == recursive) {
+#ifdef CONFIG_PREEMPT_RT
 		static int warnings = 10;
 		if (warnings) {
 			printk(KERN_ERR "Lukewarm IQ detected in hotplug locking\n");
 			WARN_ON(1);
 			warnings--;
 		}
+#endif
 		recursive_depth++;
 		return;
 	}
