---
 drivers/pci/hotplug/cpci_hotplug_core.c |    8 ++++----
 drivers/pci/hotplug/cpqphp_ctrl.c       |    4 ++--
 2 files changed, 6 insertions(+), 6 deletions(-)

Index: linux-2.6.22/drivers/pci/hotplug/cpci_hotplug_core.c
===================================================================
--- linux-2.6.22.orig/drivers/pci/hotplug/cpci_hotplug_core.c	2007-07-24 08:57:20.000000000 +0200
+++ linux-2.6.22/drivers/pci/hotplug/cpci_hotplug_core.c	2007-07-24 08:57:34.000000000 +0200
@@ -521,9 +521,9 @@ event_thread(void *data)
 {
 	int rc;
 
-	lock_kernel();
+//	lock_kernel();
 	daemonize("cpci_hp_eventd");
-	unlock_kernel();
+//	unlock_kernel();
 
 	dbg("%s - event thread started", __FUNCTION__);
 	while (1) {
@@ -562,9 +562,9 @@ poll_thread(void *data)
 {
 	int rc;
 
-	lock_kernel();
+//	lock_kernel();
 	daemonize("cpci_hp_polld");
-	unlock_kernel();
+//	unlock_kernel();
 
 	while (1) {
 		if (thread_finished || signal_pending(current))
Index: linux-2.6.22/drivers/pci/hotplug/cpqphp_ctrl.c
===================================================================
--- linux-2.6.22.orig/drivers/pci/hotplug/cpqphp_ctrl.c	2007-07-24 08:57:20.000000000 +0200
+++ linux-2.6.22/drivers/pci/hotplug/cpqphp_ctrl.c	2007-07-24 08:57:34.000000000 +0200
@@ -1746,10 +1746,10 @@ static void pushbutton_helper_thread(uns
 static int event_thread(void* data)
 {
 	struct controller *ctrl;
-	lock_kernel();
+//	lock_kernel();
 	daemonize("phpd_event");
 	
-	unlock_kernel();
+//	unlock_kernel();
 
 	while (1) {
 		dbg("!!!!event_thread sleeping\n");
