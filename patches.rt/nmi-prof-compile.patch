Subject: Linux-RT 2.6.27-RT
From: http://www.kernel.org/pub/linux/kernel/projects/rt/
Acked-by: Tony Jones <tonyj@suse.de>
nmi: add __profile_tick() stub

Trying to build without profiling enabled will result in this error:

  CC      arch/x86/kernel/nmi.o
arch/x86/kernel/nmi.c: In function nmi_watchdog_tick:
arch/x86/kernel/nmi.c:453: error: implicit declaration of function __profile_tick
make[2]: *** [arch/x86/kernel/nmi.o] Error 1

There is a stub already for profile_tick() but not __profile_tick(), so add
one for the latter.

Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
---
 include/linux/profile.h |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

diff --git a/include/linux/profile.h b/include/linux/profile.h
index a4bda61..fe844b5 100644
--- a/include/linux/profile.h
+++ b/include/linux/profile.h
@@ -99,6 +99,11 @@ static inline void profile_tick(int type)
 	return;
 }
 
+static inline void __profile_tick(int type, struct pt_regs *regs)
+{
+	return;
+}
+
 static inline void profile_hits(int type, void *ip, unsigned int nr_hits)
 {
 	return;
